<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css">
</head>
<body>
	<h1 class="text-center">Players</h1>
	<form class="form-horizontal">
		<div class="form-group>
			<div class="col-sm-10">
				<label class="col-sm-4"><input type="checkbox" value="阿木" onclick="updateList()">阿木</label>
				<label class="col-sm-4"><input type="checkbox" value="骚苏" onclick="updateList()">骚苏</label>
				<label class="col-sm-4"><input type="checkbox" value="老肖" onclick="updateList()">老肖</label>
				<label class="col-sm-4"><input type="checkbox" value="肥豪" onclick="updateList()">肥豪</label>
				<label class="col-sm-4"><input type="checkbox" value="周杰" onclick="updateList()">周杰</label>
				<label class="col-sm-4"><input type="checkbox" value="钟总" onclick="updateList()">钟总</label>
				<label class="col-sm-4"><input type="checkbox" value="阿炳" onclick="updateList()">阿炳</label>
				<label class="col-sm-4"><input type="checkbox" value="旬总" onclick="updateList()">旬总</label>
				<label class="col-sm-4"><input type="checkbox" value="摸鱼" onclick="updateList()">摸鱼</label>
				<label class="col-sm-4"><input type="checkbox" value="晓杰" onclick="updateList()">晓杰</label>
				<label class="col-sm-4"><input type="checkbox" value="阿坤" onclick="updateList()">阿坤</label>
				<label class="col-sm-4"><input type="checkbox" value="俊朗" onclick="updateList()">俊朗</label>
				<label class="col-sm-4"><input type="checkbox" value="iiyi小弟" onclick="updateList()">iiyi小弟</label>
				<label class="col-sm-4"><input type="checkbox" value="思灿" onclick="updateList()">思灿</label>
				<label class="col-sm-4"><input type="checkbox" value="嘉登" onclick="updateList()">嘉登</label>
				<label class="col-sm-4"><input type="checkbox" value="头哥" onclick="updateList()">头哥</label>
				<label class="col-sm-4"><input type="checkbox" value="水老板" onclick="updateList()">水老板</label>
				<label class="col-sm-4"><input type="checkbox" value="陈总" onclick="updateList()">陈总</label>
				<label class="col-sm-4"><input type="checkbox" value="伟南" onclick="updateList()">伟南</label>
				<label class="col-sm-4"><input type="checkbox" value="骚德" onclick="updateList()">骚德</label>
				<label class="col-sm-4"><input type="checkbox" value="阿胖" onclick="updateList()">阿胖</label>
				<label class="col-sm-4"><input type="checkbox" value="水生" onclick="updateList()">水生</label>
				<label class="col-sm-4"><input type="checkbox" value="锐文" onclick="updateList()">锐文</label>
				<label class="col-sm-4"><input type="checkbox" value="陈政" onclick="updateList()">陈政</label>
				<label class="col-sm-4"><input type="checkbox" value="替补1" onclick="updateList()">替补1</label>
				<label class="col-sm-4"><input type="checkbox" value="替补2" onclick="updateList()">替补2</label>
				<label class="col-sm-4"><input type="checkbox" value="替补3" onclick="updateList()">替补3</label>
				<label class="col-sm-4"><input type="checkbox" value="替补4" onclick="updateList()">替补4</label>
				<label class="col-sm-4"><input type="checkbox" value="替补5" onclick="updateList()">替补5</label>
			</div>
		</div>
	</form>
	<p class="lead text-center"></p>
	<div class="text-center"><button type="button" class="btn btn-success btn-lg" onclick="split()">分组</button></div>
	<h4 id="result"></h4>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript">
	var list = [];

	function updateList() {
		list = [];
		$("input[type='checkbox']:checked").each(function(index, item){
			list.push($(this).val());
		});
		$(".lead").html("总共<strong>" + list.length + "</strong>人");
	}

	function split() {
		var len = list.length;
		var tmpList = list.slice(0);
		var groups = [];
		var group = [];
		for (var i=0; i<len;i++){
			var r = Math.floor((Math.random() * tmpList.length));
			var player = tmpList[r];
			tmpList.splice(r, 1);
			group.push(player);
			if ((i + 1) % 4 == 0) {
				groups.push(group);
				group = [];
			}
		}
		if (group.length > 0) {
			groups.push(group);
		}
		
		var result="";
		for (var i=0; i<groups.length;i++) {
			result = result + (i + 1) + "组:";
			var temp = groups[i];
			for (var j=0; j<groups[i].length;j++) {
				result = result + groups[i][j] + " | ";
			}
			result = result + "</br></br>"
		}
		$("#result").html(result);
	}
</script>
<body>
</html>
